## Purpose

The clipmaker folder is for viewing near misses that were recorded by the pipeline.
You can run these files after running the pipeline. Primarily, the order of running is:
arglistgen.py -> ./run_script_2.sh

Now, arglistgen.py has flags that indicate which camera and which year to generate videos for.
However, the --days parameter means how many days ago to find videos that were generated.
For example, `--days 2` means, only look at videos that were analyzed up to 2 days ago, and not
any more than 2 days. (The script looks at the tracking videos that were generated by the
pipeline and looks at the dates those videos were created by examining the file metadata.)

The resulting videos will be in a new folder named after the intersection ID. Because these videos
are not useful on their own, you can `cd` into a subdir containing the mp4s and then run sprinkles on
it. Sprinkles is a program that overlays information on the MP4, such as minimaps of the intersection
and the coordinate where the conflict occurred. Sprinkles can then allow the user to mark a video
as harmless or dangerous, so that unflagging of the conflict in the database can occur.
(Check the sprinkles dir for more info)

## Running

```bash
# cd /mnt/hdd/data/video_pipeline/tracking
# find "$(pwd)" -type f -ctime -9 \( -path "*tracking/26_*" -o -path "*tracking/25_*" \)
# by the way ctime -9 means days
# find "$(pwd)" -type f -ctime -30 \( -path "*tracking/07_2022*" -o -path "*tracking/07_2022*" \)
# 
# we shouldnt need to do the above anymore
# python arglistgen.py --camera_id 07 --year 2022 --days 30
# python arglistgen.py --camera_id 24 --year 2025 --days 6
python arglistgen.py --camera_id 25 --year 2025 --days 2
python arglistgen.py --camera_id 26 --year 2025 --days 2
# ./run_script_2.sh -i 3287 -c 24
./run_script_2.sh -i 3248 -c 27
```

then cd to the folder, make sure
~/sprinkles_output is empty and then `chip sprinkles` to start
encoding clips for review using sprinkles (check the sprinkles dir README.md)

